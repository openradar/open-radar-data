# Open-Radar-Data
[![CI](https://github.com/openradar/open-radar-data/actions/workflows/ci.yaml/badge.svg)](https://github.com/openradar/open-radar-data/actions/workflows/ci.yaml)
[![PyPI Version](https://img.shields.io/pypi/v/open-radar-data.svg)](https://pypi.python.org/pypi/open-radar-data)
[![Conda Version](https://img.shields.io/conda/vn/conda-forge/open-radar-data.svg)](https://anaconda.org/conda-forge/open-radar-data)

A place to share radar data with the community, shared between the open radar packages

## Sample data sets

These files are used as sample data in openradar examples/notebooks and are downloaded by `open-radar-data` package:

- `0080_20210730_160000_01_02.scn.gz`
- `110635.nc`
- `2006_20220324_000000_000.scnx.gz`
- `2013051000000600dBZ.vol`
- `71_20181220_060628.pvol.h5`
- `DWD-Vol-2_99999_20180601054047_00.h5`
- `SUR210819000227.RAWKPJV`
- `20220628072500_savevol_COSMO_LOOKUP_TEMP.nc`
- `MLA2119412050U.nc`
- `MLL2217907250U.003.nc`
- `T_PAGZ35_C_ENMI_20170421090837.hdf`
- `T_PAZA63_C_LFPW_20230420065041.h5`
- `T_PAZA63_C_LFPW_20230420065541.h5`
- `T_PAZB63_C_LFPW_20230420065125.h5`
- `T_PAZB63_C_LFPW_20230420065624.h5`
- `T_PAZC63_C_LFPW_20230420065228.h5`
- `T_PAZC63_C_LFPW_20230420065727.h5`
- `T_PAZD63_C_LFPW_20230420065331.h5`
- `T_PAZD63_C_LFPW_20230420065831.h5`
- `T_PAZE63_C_LFPW_20230420065446.h5`
- `T_PAZE63_C_LFPW_20230420065946.h5`
- `cfrad.20080604_002217_000_SPOL_v36_SUR.nc`
- `cfrad2.20080604_002217_000_SPOL_v36_SUR.nc`
- `cfrad.20211011_201557.188_to_20211011_201617.720_DOW8_PPI.nc`
- `cfrad.20211011_201711.345_to_20211011_201732.860_DOW8_PPI.nc`
- `cfrad.20211011_201733.023_to_20211011_201745.299_DOW8_RHI.nc`
- `cfrad.20211011_202304.515_to_20211011_202326.412_DOW8_PPI.nc`
- `cfrad.20211011_223602.712_to_20211011_223612.091_DOW8_RHI.nc`
- `cor-main131125105503.RAW2049`
- `sample_sgp_data.nc`
- `sample_rainbow_5_59.nc`
- `gucxprecipradarcmacppiS2.c1.20220314.021559.nc`
- `gucxprecipradarcmacppiS2.c1.20220314.024239.nc`
- `gucxprecipradarcmacppiS2.c1.20220314.025840.nc`
- `corcsapr2cmacppiM1.c1.20181111.030003.nc`
- `RAW_NA_000_125_20080411181219`
- `RAW_NA_000_125_20080411181722`
- `RAW_NA_000_125_20080411182229`
- `RAW_NA_000_125_20080411182732`
- `RAW_NA_000_125_20080411183259`
- `RAW_NA_000_125_20080411183827`
- `RAW_NA_000_125_20080411184409`
- `RAW_NA_000_125_20080411184937`
- `RAW_NA_000_125_20080411185504`
- `RAW_NA_000_125_20080411190016`
- `RAW_NA_000_125_20080411190525`
- `RAW_NA_000_125_20080411191031`
- `RAW_NA_000_125_20080411191548`
- `RAW_NA_000_125_20080411192104`
- `RAW_NA_000_125_20080411192613`
- `RAW_NA_000_125_20080411193127`
- `RAW_NA_000_125_20080411193638`
- `RAW_NA_000_125_20080411194151`
- `RAW_NA_000_125_20080411194703`
- `RAW_NA_000_125_20080411195218`
- `RAW_NA_000_125_20080411195728`
- `RAW_NA_000_125_20080411200416`
- `RAW_NA_000_125_20080411200945`
- `RAW_NA_000_125_20080411201520`
- `RAW_NA_000_125_20080411202047`
- `KATX20130717_195021_V06`
- `example_plot_ppi_single_sweep.nc`
- `KLBB20160601_150025_V06`
- `KLBB20160601_150025_V06.gz`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p35deg_PRkdp_N11_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p35deg_PRpsd_N11_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p35deg_PRref_N11_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p35deg_PRrhv_N11_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p35deg_PRvel_N11_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p35deg_PRvsw_N11_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p35deg_PRzdr_N11_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p70deg_PRkdp_N18_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p70deg_PRpsd_N18_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p70deg_PRrhv_N18_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p70deg_PRref_N18_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p70deg_PRvel_N18_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p70deg_PRvsw_N18_ANAL_cfrad.nc`
- `Z__C_RJTD_20230801200000_RDR_JMAGPV_RS47937_Gar0p250km0p70deg_PRzdr_N18_ANAL_cfrad.nc`
- `DES_VOL_RAW_20240522_1600.nc`
- `swx_20120520_0641.nc`

## Adding new datasets

To add a new dataset file, please follow these steps:

1. Add the dataset file to the `data/` directory
2. From the command line, run `python make_registry.py` script to update the registry file residing in `open_radar_data/registry.txt`
3. Commit and push your changes to GitHub

## Using datasets in notebooks and/or scripts

- Ensure the `open_radar_data` package is installed in your environment

  ```bash
  python -m pip install open-radar-data

  # or

  python -m pip install git+https://github.com/openradar/open-radar-data

  # or

  conda install -c conda-forge open-radar-data
  ```

- Import `DATASETS` and inspect the registry to find out which datasets are available

  ```python
  In [1]: from open_radar_data import DATASETS

  In [2]: DATASETS.registry_files
  Out[2]: ['sample_sgp_data.nc`]
  ```

- To fetch a data file of interest, use the `.fetch` method and provide the filename of the data file. This will

  - download and cache the file if it doesn't exist already.
  - retrieve and return the local path

  ```python
  In [4]: filepath = DATASETS.fetch('sample_sgp_data.nc')

  In [5]: filepath
  Out[5]: '/Users/mgrover/Library/Caches/open-radar-data/sample_sgp_data.nc'
  ```

- Once you have access to the local filepath, you can then use it to load your dataset into pandas or xarray or your package of choice:

  ```python
  In [6]: radar = pyart.io.read(filepath)
  ```

## Changing the default data cache location

The default cache location (where the data are saved on your local system) is dependent on the operating system. You can use the `locate()` method to identify it:

```python
from open_radar_data import locate
locate()
```

The location can be overwritten by the `OPEN_RADAR_DATA_DIR` environment
variable to the desired destination.
